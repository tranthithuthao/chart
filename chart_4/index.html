<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="chart.js"></script>
    <script src="wow.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="animate.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
</head>
<body>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <p>texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext</p>
    <div class="content_chart">
        <div class="age_data item1">
            <span class="data_tag">20~25歳</span>
            <span class="data_num">8<span class="unit">%</span></span>
            <div class="line line1">
                <svg height="100%" width="100%" viewBox="0 0 100 100" >
                  <path class="lineAB" d="M 100 0 L 0 0 L 0 200" stroke="black"
                  stroke-width="1" fill="none" vector-effect="non-scaling-stroke"/>
                </svg>
            </div>
        </div>
        <div class="age_data item4">
            <span class="data_tag">46~65歳</span>
            <span class="data_num">3<span class="unit">%</span></span>
            <div class="line line2">
                <svg height="100%" width="100%" viewBox="0 0 100 100">
                  <path class="lineAB" d="M 0 0 L 100 0 L 100 200" stroke="black"
                  stroke-width="1" fill="none"  vector-effect="non-scaling-stroke"/>
                </svg>
            </div>
        </div>
        <canvas id="myChart"></canvas>
        <div class="age_data item2">
            <span class="data_tag">26~35歳</span>
            <span class="data_num"><span class="num wow fadeInDown" data-wow-delay="0.5s" data-wow-duration="0.5s">6</span><span class="num wow fadeInDown" data-wow-delay="0.2s"  data-wow-duration="0.5s">3</span><span class="unit">%</span></span>
        </div>
        <div class="age_data item3">
            <span class="data_tag">36~45歳</span>
            <span class="data_num"><span class="num wow fadeInDown" data-wow-delay="0.5s" data-wow-duration="0.5s">2</span><span class="num wow fadeInDown" data-wow-delay="0.2s"  data-wow-duration="0.5s">6</span><span class="unit">%</span></span>
        </div>
    </div>
      <script>
        $(function () {
            var $win = $(window);
            var position = $('#myChart').offset().top - ($win.height() / 3 * 2); 
            var flag = null;

            var canvas = document.getElementById("myChart");
            var toRadians = (val) => val * Math.PI / 180;

            $win.scroll(function () {
            if ($(this).scrollTop() > position && flag === null) {
                $(".age_data").addClass("open");
                flag = 1;
                var chart = new Chart(canvas, {
                    responsive: true,
                    type: 'polarArea',
                    data: {
                        datasets: [{
                            data: [4, 6, 5, 3.7],
                            backgroundColor: [
                                "#888888",
                                "#e52d27",
                                "#b7b6b6",
                                "#666666"
                            ],
                            borderWidth: 0,
                        }],
                        labels: ['A', 'B', 'C', 'D'],
                    },
                    options: {
                        tooltips: {
                                enabled: false
                            },
                        legend: {
                            display: false
                        },
                        scale: {
                            display: false
                        },
                        
                        elements: {
                            arc: {
                                // In Radians v3.0.0-beta.3 and prior
                                angle: [
                                    toRadians(30),
                                    toRadians(230),
                                    toRadians(90),
                                    toRadians(10)
                                ]
                            }
                        },
                    },

                 });

                
                
            }

            });

            wow = new WOW(
            {
                animateClass: 'animated',
                offset:       100,
            }
            );
            wow.init();

        });
      </script>

      
</body>
</html>